<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TCRMS - Reports</title>
    <link rel="stylesheet" href="css/style.css">
    <script>
        window.logout = function() {
            if (confirm('Are you sure you want to logout?')) {
                sessionStorage.removeItem('currentUser');
                window.location.href = 'index.html';
            }
        };
    </script>
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
    <div class="prototype-banner">
        <span class="banner-warning">⚠️ PROTOTYPE — For Walkthrough and Approval Only — All Data is Static</span>
        <span class="banner-purpose">Purpose: Track trainings from hire • Monitor compliance • Alerts • Reports</span>
    </div>
    
    <div class="sidebar">
        <div class="sidebar-header">
            <h2>TRMS</h2>
            <p class="sidebar-subtitle">Training Record Mngt. System</p>
            <p class="user-role" id="userRole">ADMIN</p>
        </div>
        
        <nav class="sidebar-nav">
            <a href="admin-dashboard.html" class="nav-item">
                <i data-lucide="layout-dashboard" class="nav-icon"></i> DASHBOARD
            </a>
            <a href="admin-users.html" class="nav-item">
                <i data-lucide="users" class="nav-icon"></i> USERS
            </a>
            <a href="admin-training.html" class="nav-item">
                <i data-lucide="book-open" class="nav-icon"></i> TRAINING AND CERTIFICATION
            </a>
            <a href="admin-reports.html" class="nav-item active">
                <i data-lucide="bar-chart-3" class="nav-icon"></i> REPORTS
            </a>
        </nav>
        
        <div class="sidebar-footer">
            <button type="button" onclick="window.logout()" class="btn-logout">Logout</button>
        </div>
    </div>
    
    <div class="main-content">
        <div class="top-bar">
            <h1>Reports</h1>
            <div class="top-bar-right">
                <span class="notification-icon" onclick="showNotifications()">
                    <i data-lucide="bell"></i>
                    <span class="badge">3</span>
                </span>
                <span class="user-info"><i data-lucide="user"></i> Admin User</span>
            </div>
        </div>
        
        <div class="content-area content-area-dashboard">
            <div class="reports-grid">
                <div class="card chart-panel">
                    <h3 class="chart-panel-title"><i data-lucide="chart-line"></i> Training Completion History</h3>
                    <p class="chart-desc">Analytical report — training/certification completed per month in the year.</p>
                    <div class="line-chart-container">
                        <svg class="line-chart" viewBox="0 0 400 180" preserveAspectRatio="none">
                            <defs>
                                <linearGradient id="reportLineGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                    <stop offset="0%" style="stop-color:#2c5282;stop-opacity:0.3" />
                                    <stop offset="100%" style="stop-color:#2c5282;stop-opacity:0" />
                                </linearGradient>
                            </defs>
                            <line x1="40" y1="20" x2="40" y2="140" stroke="#e8e8e8" stroke-width="1"/>
                            <line x1="40" y1="140" x2="380" y2="140" stroke="#e8e8e8" stroke-width="1"/>
                            <line x1="80" y1="20" x2="80" y2="140" stroke="#f0f0f0" stroke-width="1"/>
                            <line x1="120" y1="20" x2="120" y2="140" stroke="#f0f0f0" stroke-width="1"/>
                            <line x1="160" y1="20" x2="160" y2="140" stroke="#f0f0f0" stroke-width="1"/>
                            <line x1="200" y1="20" x2="200" y2="140" stroke="#f0f0f0" stroke-width="1"/>
                            <line x1="240" y1="20" x2="240" y2="140" stroke="#f0f0f0" stroke-width="1"/>
                            <line x1="280" y1="20" x2="280" y2="140" stroke="#f0f0f0" stroke-width="1"/>
                            <line x1="320" y1="20" x2="320" y2="140" stroke="#f0f0f0" stroke-width="1"/>
                            <line x1="360" y1="20" x2="360" y2="140" stroke="#f0f0f0" stroke-width="1"/>
                            <line x1="40" y1="50" x2="380" y2="50" stroke="#f0f0f0" stroke-width="1"/>
                            <line x1="40" y1="80" x2="380" y2="80" stroke="#f0f0f0" stroke-width="1"/>
                            <line x1="40" y1="110" x2="380" y2="110" stroke="#f0f0f0" stroke-width="1"/>
                            <path fill="url(#reportLineGradient)" d="M 40 95 L 80 88 L 120 82 L 160 70 L 200 55 L 240 48 L 280 65 L 320 75 L 360 85 L 380 82 L 380 140 L 40 140 Z"/>
                            <path fill="none" stroke="#2c5282" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"
                                d="M 40 95 L 80 88 L 120 82 L 160 70 L 200 55 L 240 48 L 280 65 L 320 75 L 360 85 L 380 82"/>
                            <circle cx="40" cy="95" r="3" fill="#2c5282"/>
                            <circle cx="80" cy="88" r="3" fill="#2c5282"/>
                            <circle cx="120" cy="82" r="3" fill="#2c5282"/>
                            <circle cx="160" cy="70" r="3" fill="#2c5282"/>
                            <circle cx="200" cy="55" r="3" fill="#2c5282"/>
                            <circle cx="240" cy="48" r="3" fill="#2c5282"/>
                            <circle cx="280" cy="65" r="3" fill="#2c5282"/>
                            <circle cx="320" cy="75" r="3" fill="#2c5282"/>
                            <circle cx="360" cy="85" r="3" fill="#2c5282"/>
                            <circle cx="380" cy="82" r="3" fill="#2c5282"/>
                        </svg>
                        <div class="line-chart-labels">
                            <span>Jan</span><span>Feb</span><span>Mar</span><span>Apr</span><span>May</span><span>Jun</span><span>Jul</span><span>Aug</span><span>Sep</span><span>Oct</span><span>Nov</span><span>Dec</span>
                        </div>
                    </div>
                </div>
                
                <div class="card chart-panel">
                    <h3 class="chart-panel-title"><i data-lucide="bar-chart-2"></i> Number of Certifications per Month</h3>
                    <p class="chart-desc">No. of training/certification completed per month in a year.</p>
                    <p class="chart-subtitle">Target Value In Units</p>
                    <div class="vertical-bar-chart">
                        <div class="vbar-wrap">
                            <div class="vbar" style="height: 70%;" title="28">28</div>
                        </div>
                        <div class="vbar-wrap">
                            <div class="vbar" style="height: 55%;" title="22">22</div>
                        </div>
                        <div class="vbar-wrap">
                            <div class="vbar" style="height: 90%;" title="36">36</div>
                        </div>
                        <div class="vbar-wrap">
                            <div class="vbar" style="height: 65%;" title="26">26</div>
                        </div>
                        <div class="vbar-wrap">
                            <div class="vbar" style="height: 45%;" title="18">18</div>
                        </div>
                        <div class="vbar-wrap">
                            <div class="vbar" style="height: 75%;" title="30">30</div>
                        </div>
                        <div class="vbar-wrap">
                            <div class="vbar" style="height: 100%;" title="40">40</div>
                        </div>
                        <div class="vbar-wrap">
                            <div class="vbar" style="height: 82%;" title="33">33</div>
                        </div>
                        <div class="vbar-wrap">
                            <div class="vbar" style="height: 60%;" title="24">24</div>
                        </div>
                        <div class="vbar-wrap">
                            <div class="vbar" style="height: 85%;" title="34">34</div>
                        </div>
                        <div class="vbar-wrap">
                            <div class="vbar" style="height: 95%;" title="38">38</div>
                        </div>
                        <div class="vbar-wrap">
                            <div class="vbar" style="height: 88%;" title="35">35</div>
                        </div>
                    </div>
                    <div class="vertical-bar-labels">
                        <span>Jan</span><span>Feb</span><span>Mar</span><span>Apr</span><span>May</span><span>Jun</span><span>Jul</span><span>Aug</span><span>Sep</span><span>Oct</span><span>Nov</span><span>Dec</span>
                    </div>
                </div>
                
                <div class="card chart-panel">
                    <h3 class="chart-panel-title"><i data-lucide="trending-up"></i> Trainees vs. Separated</h3>
                    <p class="chart-desc">Separated vs. Certified per month (analytical).</p>
                    <p class="chart-subtitle">Target Value In Units</p>
                    <div class="multiline-chart-container">
                        <svg class="multiline-chart" viewBox="0 0 400 160" preserveAspectRatio="none">
                            <line x1="40" y1="20" x2="40" y2="120" stroke="#e8e8e8" stroke-width="1"/>
                            <line x1="40" y1="120" x2="380" y2="120" stroke="#e8e8e8" stroke-width="1"/>
                            <path fill="none" stroke="#2c5282" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                d="M 40 80 L 80 75 L 120 70 L 160 65 L 200 58 L 240 52 L 280 60 L 320 68 L 360 72 L 380 70"/>
                            <path fill="none" stroke="#276749" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                d="M 40 95 L 80 90 L 120 88 L 160 85 L 200 82 L 240 78 L 280 85 L 320 90 L 360 95 L 380 92"/>
                            <circle cx="380" cy="70" r="3" fill="#2c5282"/>
                            <circle cx="380" cy="92" r="3" fill="#276749"/>
                        </svg>
                        <div class="multiline-legend">
                            <span class="multiline-legend-item"><span class="multiline-legend-dot" style="background:#2c5282"></span> Trainees</span>
                            <span class="multiline-legend-item"><span class="multiline-legend-dot" style="background:#276749"></span> Separated</span>
                        </div>
                    </div>
                </div>
                
            </div>
            
            <div class="card report-more-section">
                <h3 class="section-title"><i data-lucide="file-bar-chart"></i> Additional Reports You Can Generate</h3>
                <p class="section-desc">Based on filters and training data, the system can also produce:</p>
                <ul class="report-options-list">
                    <li><i data-lucide="calendar-clock"></i> <strong>Who will expire on specific months</strong> — List or count of certifications expiring by chosen month</li>
                    <li><i data-lucide="calendar-clock"></i> <strong>Expiring certifications</strong> — Count by month (next 3–6 months) or list of employees with expiring certs</li>
                    <li><i data-lucide="building-2"></i> <strong>By factory / line</strong> — Certifications or training completion per 1st Factory, 2nd Factory, or by production line</li>
                    <li><i data-lucide="tags"></i> <strong>By training category or title</strong> — No. of employees trained on a specific topic (e.g. Soldering, Quality Control, Safety)</li>
                    <li><i data-lucide="layers"></i> <strong>By process classification</strong> — Easy, Difficult, Critical / Special, Sensing, Non sensing counts or trends</li>
                    <li><i data-lucide="user-check"></i> <strong>By trainer</strong> — Sessions delivered and headcount trained per trainer</li>
                    <li><i data-lucide="user-minus"></i> <strong>Trainees vs. separated</strong> — Trend over time (already shown above) or export for audit</li>
                    <li><i data-lucide="award"></i> <strong>Certification rate</strong> — % of active employees certified (overall or by factory/line)</li>
                    <li><i data-lucide="download"></i> <strong>Export</strong> — Any report to CSV, Excel, or PDF for sharing or records</li>
                </ul>
                <div class="report-actions">
                    <button type="button" class="btn-primary" onclick="generateReport()">
                        <i data-lucide="file-bar-chart"></i> Generate Report
                    </button>
                    <button type="button" class="btn-secondary" onclick="simulateExportReport()">
                        <i data-lucide="download"></i> Export
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="js/data.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/reports.js"></script>
    <script>
        lucide.createIcons();
    </script>
</body>
</html>
